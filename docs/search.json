[
  {
    "objectID": "DE27-28.html",
    "href": "DE27-28.html",
    "title": "Daily Exercise 27 & 28",
    "section": "",
    "text": "Opening Libraries\n\nlibrary(sf)\n\nLinking to GEOS 3.13.1, GDAL 3.10.2, PROJ 9.5.1; sf_use_s2() is TRUE\n\nlibrary(osmdata)\n\nData (c) OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright\n\nlibrary(AOI)\nlibrary(terra)\n\nterra 1.8.42\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:terra':\n\n    intersect, union\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\n\n\nExtract waterways from OpenStreetMap for Bounding Box of Fort Collins, CO\n\nfc &lt;- AOI::geocode(\"Fort Collins\", bbox = TRUE)\n\nstr(fc)\n\nClasses 'sf' and 'data.frame':  1 obs. of  6 variables:\n $ request       : chr \"Fort Collins\"\n $ score         : int 100\n $ arcgis_address: chr \"Fort Collins, Colorado\"\n $ x             : num -105\n $ y             : num 40.6\n $ geometry      :sfc_POLYGON of length 1; first list element: List of 1\n  ..$ : num [1:5, 1:2] -105 -105 -105 -105 -105 ...\n  ..- attr(*, \"class\")= chr [1:3] \"XY\" \"POLYGON\" \"sfg\"\n - attr(*, \"sf_column\")= chr \"geometry\"\n - attr(*, \"agr\")= Factor w/ 3 levels \"constant\",\"aggregate\",..: NA NA NA NA NA\n  ..- attr(*, \"names\")= chr [1:5] \"request\" \"score\" \"arcgis_address\" \"x\" ...\n\nfc &lt;- st_as_sf(fc, coords = c(\"x\", \"y\"), crs =  4326)\n\nfoco_waterways &lt;- osmdata::opq(st_bbox(st_transform(fc,4326))) |&gt;\n  add_osm_feature(\"waterway\") |&gt;\n  osmdata_sf()\n\n\n\nFilter osm_lines to only include Cache la Poudre River\n\nwaterway_lines &lt;- foco_waterways$osm_lines\n\nwaterway_lines &lt;- waterway_lines |&gt; \n  filter(name == \"Cache la Poudre River\") |&gt;\n  st_union() |&gt;\n  st_as_sf()\n\n\n\nUse st_length() to compute the length of the river\n\npoudre_length = st_length(waterway_lines)\n\n\n\nUse st_cast to convert river object to point object\n\nwaterway_lines &lt;- st_cast(waterway_lines, \"POINT\")\n\n\n\nDefine DEM Object\n\n##dem = rast(\"/vsis3/lynker-spatial/gridded-resources/dem.vrt\")"
  }
]